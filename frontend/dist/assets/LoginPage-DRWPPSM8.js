import{u as q,r,j as e,i as D,aP as M,a9 as T,aI as G,aG as O,ar as _,a0 as B}from"./react-vendor-DgS3FqxP.js";import{a as U,u as Y}from"./analytics-BaIqSyLq.js";import{a as J}from"./index-CZDwNCgz.js";import"./vendor-BIOr8nTg.js";import"./orders-CbLLkbab.js";function W(){const L=q(),{setRole:p}=U(),{t:n,language:i,changeLanguage:b}=Y(),[m,y]=r.useState(""),[u,A]=r.useState(""),[f,R]=r.useState(!1),[w,j]=r.useState(!1),[l,c]=r.useState({}),[d,g]=r.useState(!1),[v,N]=r.useState(0),h=r.useRef(null);r.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("email");a&&y(decodeURIComponent(a))},[]);const x=[{titleEn:["Manage Products,","Sales & Customer Requests."],titleAr:["إدارة المنتجات،","المبيعات وطلبات العملاء."]},{titleEn:["Grow Your Business","Easily & Efficiently."],titleAr:["نمو أعمالك","بسهولة وفعالية."]},{titleEn:["Full Control Over","Your Store & Sales."],titleAr:["تحكم كامل في","متجرك ومبيعاتك."]}],I=()=>{const t=x[v];return i==="ar"?t.titleAr:t.titleEn};r.useEffect(()=>{const t=setInterval(()=>{N(a=>(a+1)%x.length)},5e3);return()=>clearInterval(t)},[x.length]),r.useEffect(()=>{const t=a=>{h.current&&!h.current.contains(a.target)&&g(!1)};return d&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[d]);const $=async t=>{var k,S,E,F,C,P,z;if(t.preventDefault(),c({}),!m.trim()){c({email:"Email is required"});return}if(!u.trim()){c({password:"Password is required"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)){c({email:"Please enter a valid email address"});return}j(!0),c({});try{const s=await J.login({email:m,password:u});(k=s.user)!=null&&k.role?p(s.user.role):p("vendor"),s.refreshToken&&localStorage.setItem("refreshToken",s.refreshToken),L("/dashboard")}catch(s){console.error("Login error:",s);let o="Invalid email or password. Please check your credentials and try again.";(E=(S=s==null?void 0:s.response)==null?void 0:S.data)!=null&&E.message?o=s.response.data.message:s!=null&&s.message&&(o=s.message),((F=s==null?void 0:s.response)==null?void 0:F.status)===401?o="Invalid email or password. Please check your credentials and try again.":((C=s==null?void 0:s.response)==null?void 0:C.status)===404?o="Account not found. Please check your email and try again.":((P=s==null?void 0:s.response)==null?void 0:P.status)===403?o="Account is not authorized. Please contact support.":((z=s==null?void 0:s.response)==null?void 0:z.status)>=500&&(o="Server error. Please try again later."),c({password:o})}finally{j(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F3F5F6"},children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6 py-4 shadow-sm",style:{backgroundColor:"#F3F5F6"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center p-2 shadow-sm",children:e.jsx("img",{src:"/images/sidebar-topicon.png",alt:"Street10 mazad",className:"w-full h-full object-contain"})}),e.jsx("span",{className:"text-lg font-normal text-gray-900",style:{fontFamily:"sans-serif"},children:"Street10 mazad"})]}),e.jsxs("div",{className:"flex items-center gap-2 relative",ref:h,children:[e.jsxs("button",{type:"button",onClick:()=>g(!d),className:"flex items-center gap-2 px-3 py-1.5 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[i==="ar"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"https://flagcdn.com/w40/qa.png",alt:"Qatar",className:"w-5 h-4 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Arabic"})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"https://flagcdn.com/w40/gb.png",alt:"English",className:"w-5 h-4 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"English"})]}),e.jsx(D,{size:16,className:`text-gray-500 transition-transform ${d?"rotate-180":""}`})]}),d&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[150px] overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>{b("en"),g(!1)},className:`w-full flex items-center gap-2 px-4 py-2 text-left hover:bg-gray-50 transition-colors ${i==="en"?"bg-gray-50":""}`,children:[e.jsx("img",{src:"https://flagcdn.com/w40/gb.png",alt:"English",className:"w-5 h-4 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"English"}),i==="en"&&e.jsx("span",{className:"ml-auto text-orange-500",children:"✓"})]}),e.jsxs("button",{type:"button",onClick:()=>{b("ar"),g(!1)},className:`w-full flex items-center gap-2 px-4 py-2 text-left hover:bg-gray-50 transition-colors ${i==="ar"?"bg-gray-50":""}`,children:[e.jsx("img",{src:"https://flagcdn.com/w40/qa.png",alt:"Arabic",className:"w-5 h-4 object-cover rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Arabic"}),i==="ar"&&e.jsx("span",{className:"ml-auto text-orange-500",children:"✓"})]})]})]})]}),e.jsxs("div",{className:"flex-1 flex relative pt-20",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-2/3 relative",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url('/images/login-page-img.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-20 py-16 text-white",children:[e.jsx("h1",{className:"text-6xl font-bold mb-8 leading-[1.3] min-h-[250px] transition-opacity duration-500 drop-shadow-lg text-left",children:e.jsx("span",{className:"mb-4",children:I().join(" ")})}),e.jsx("div",{className:"flex gap-2 mt-8",children:x.map((t,a)=>e.jsx("button",{type:"button",onClick:()=>N(a),className:`h-3 rounded-full transition-all ${v===a?"bg-orange-500 w-8":"bg-white bg-opacity-30 hover:bg-opacity-50 w-3"}`,"aria-label":`Go to slide ${a+1}`},a))})]}),e.jsx("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{height:"100%"},children:e.jsx("path",{d:"M 0,0 C 50,15 50,85 0,100 L 0,100 L 100,100 L 100,0 Z",fill:"#F3F5F6"})})]}),e.jsx("div",{className:"w-full lg:w-1/3 flex items-center justify-center p-8 relative",style:{backgroundColor:"#F3F5F6"},children:e.jsx("div",{className:"w-full max-w-md relative z-10",children:e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[(l.password||l.email)&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-red-800 font-medium",children:l.password||l.email})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2 font-sans",style:{fontFamily:"sans-serif"},children:n("email")||"Email"}),e.jsx("input",{type:"email",id:"email",value:m,onChange:t=>y(t.target.value),placeholder:n("enterEmail")||"Enter Email",className:`w-full px-4 py-3 bg-white border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors text-gray-900 placeholder:text-gray-400 ${l.email?"border-red-500":"border-gray-300"}`,style:{fontFamily:"sans-serif",fontSize:"14px"}}),l.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2 font-sans",style:{fontFamily:"sans-serif"},children:n("password")||"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",id:"password",value:u,onChange:t=>A(t.target.value),placeholder:n("enterPassword")||"Enter Password",className:`w-full px-4 py-3 pr-10 bg-white border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors text-gray-900 placeholder:text-gray-400 ${l.password?"border-red-500":"border-gray-300"}`,style:{fontFamily:"sans-serif",fontSize:"14px"}}),e.jsx("button",{type:"button",onClick:()=>R(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?e.jsx(M,{size:20}):e.jsx(T,{size:20})})]}),l.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password})]}),e.jsx("button",{type:"submit",disabled:w,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg font-bold hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"sans-serif",fontSize:"16px"},children:w?n("loggingIn")||"Logging in...":n("login")||"Login"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",style:{fontFamily:"sans-serif"},children:[n("forgetPassword")||"Forget Password?"," "]}),e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium underline",style:{fontFamily:"sans-serif"},children:n("reset")||"Reset"})]})]})})})]}),e.jsx("footer",{className:"text-white py-6 px-6",style:{backgroundColor:"#4C50A2"},children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/images/sidebar-topicon.png",alt:"Street10 mazad",className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"text-lg font-bold",children:"Street10 mazad"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{children:"Join us social platform to stay updated"}),e.jsx("a",{href:"https://www.linkedin.com/company/street10",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:"#0A66C2"},children:e.jsx(G,{size:20,className:"text-white"})}),e.jsx("a",{href:"https://www.facebook.com/street10",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:"#0A66C2"},children:e.jsx(O,{size:20,className:"text-white"})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Contact"}),e.jsxs("a",{href:"mailto:contact-us@street10.com",className:"flex items-center gap-2 hover:underline",children:[e.jsx(_,{size:16}),e.jsx("span",{children:"contact-us@street10.com"})]}),e.jsx("span",{children:"|"}),e.jsxs("a",{href:"tel:+203333333333",className:"flex items-center gap-2 hover:underline",children:[e.jsx(B,{size:16}),e.jsx("span",{children:"+20 333 3333333"})]})]})]})})]})}export{W as default};
